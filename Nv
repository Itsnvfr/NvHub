-- [[ CONFIGURATION ]]
_G.Key = "NvKey.DC101" -- [[ CHANGE THIS TO TEST ]]
local CORRECT_KEY = "NvKey.DC101"

local function ON_SUCCESS()
    print("Access Granted! Running NvHub...")
    loadstring(game:HttpGet("https://raw.githubusercontent.com/Itsnvfr/NvHub/refs/heads/main/hub"))()
end

-- [[ THE HARD-LOCK CHECK ]]
-- This checks for an EXACT match. No extra characters allowed.
if _G.Key == CORRECT_KEY then
    ON_SUCCESS()
    return -- Script stops here, UI never loads
else
    warn("KEY EXCEPTION: Expected '" .. CORRECT_KEY .. "' but got '" .. tostring(_G.Key) .. "'. Opening UI...")
end

-- [[ UI SETUP (Only runs if Key is wrong) ]]
local UIS = game:GetService("UserInputService")
local CoreGui = game:GetService("CoreGui")
local TweenService = game:GetService("TweenService")

if CoreGui:FindFirstChild("NvKeySystem") then CoreGui.NvKeySystem:Destroy() end

local KeyGui = Instance.new("ScreenGui", CoreGui); KeyGui.Name = "NvKeySystem"
local Accent = Color3.fromRGB(0, 255, 215)
local DarkBG = Color3.fromRGB(10, 10, 10)
local FontStyle = Enum.Font.Arcade

local Main = Instance.new("Frame", KeyGui)
Main.Size = UDim2.new(0, 350, 0, 200); Main.Position = UDim2.new(0.5, -175, 0.5, -100); Main.BackgroundColor3 = DarkBG; Main.BorderSizePixel = 0
Instance.new("UICorner", Main).CornerRadius = UDim.new(0, 8)
local MainStroke = Instance.new("UIStroke", Main); MainStroke.Color = Accent; MainStroke.Thickness = 1.5

local Title = Instance.new("TextLabel", Main)
Title.Size = UDim2.new(1, 0, 0, 40); Title.Text = "NVHUB | KEY SYSTEM"; Title.TextColor3 = Accent; Title.Font = FontStyle; Title.TextSize = 20; Title.BackgroundTransparency = 1

local Close = Instance.new("TextButton", Main)
Close.Size = UDim2.new(0, 30, 0, 30); Close.Position = UDim2.new(1, -35, 0, 5); Close.Text = "X"; Close.TextColor3 = Color3.fromRGB(255, 50, 50); Close.BackgroundTransparency = 1; Close.Font = FontStyle; Close.TextSize = 20
Close.MouseButton1Click:Connect(function() KeyGui:Destroy() end)

local Input = Instance.new("TextBox", Main)
Input.Size = UDim2.new(0, 280, 0, 40); Input.Position = UDim2.new(0.5, -140, 0.45, 0); Input.BackgroundColor3 = Color3.fromRGB(20, 20, 20); Input.Text = ""; Input.PlaceholderText = "ENTER KEY..."; Input.TextColor3 = Color3.new(1, 1, 1); Input.Font = FontStyle; Input.TextSize = 16; Instance.new("UICorner", Input)
Instance.new("UIStroke", Input).Color = Color3.fromRGB(40, 40, 40)

local Verify = Instance.new("TextButton", Main)
Verify.Size = UDim2.new(0, 150, 0, 35); Verify.Position = UDim2.new(0.5, -75, 0.75, 0); Verify.BackgroundColor3 = Color3.fromRGB(25, 25, 25); Verify.Text = "VERIFY"; Verify.TextColor3 = Accent; Verify.Font = FontStyle; Verify.TextSize = 18; Instance.new("UICorner", Verify)
local VerifyStroke = Instance.new("UIStroke", Verify); VerifyStroke.Color = Accent

-- [[ DRAG LOGIC ]]
local dragging, dragStart, startPos
Main.InputBegan:Connect(function(input) if input.UserInputType == Enum.UserInputType.MouseButton1 then dragging = true; dragStart = input.Position; startPos = Main.Position end end)
UIS.InputChanged:Connect(function(input) if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then local delta = input.Position - dragStart; Main.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y) end end)
UIS.InputEnded:Connect(function(input) if input.UserInputType == Enum.UserInputType.MouseButton1 then dragging = false end end)

-- [[ VERIFICATION ]]
Verify.MouseButton1Click:Connect(function()
    if Input.Text == CORRECT_KEY then
        Verify.Text = "SUCCESS"; Verify.TextColor3 = Color3.fromRGB(0, 255, 0); VerifyStroke.Color = Color3.fromRGB(0, 255, 0); task.wait(0.5); KeyGui:Destroy(); ON_SUCCESS()
    else
        Verify.Text = "INVALID"; Verify.TextColor3 = Color3.fromRGB(255, 0, 0); VerifyStroke.Color = Color3.fromRGB(255, 0, 0); task.wait(1); Verify.Text = "VERIFY"; Verify.TextColor3 = Accent; VerifyStroke.Color = Accent
    end
end)
